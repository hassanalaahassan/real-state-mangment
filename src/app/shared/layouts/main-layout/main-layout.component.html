<div class="flex min-h-screen bg-gray-50">
  <!-- Sidebar -->
    <app-sidebar
    [isCollapsed]="sidebarCollapsed()"
    (toggle)="layoutStore.toggleSidebar()"
    class="z-30"
    />

  <!-- Main Content -->
  <main
    [class]="mainContentClasses()"
    class="flex-1 transition-all duration-300 min-w-0">

    <!-- Top Bar -->
    <app-top-bar
      [pageTitle]="pageTitle()"
      [pageSubtitle]="pageSubtitle()"
      [showUserMenu]="showUserMenu()"
      [isMobile]="isMobileView()"
      (toggleSidebar)="toggleSidebarMobile($event)"
      (toggleUserMenu)="toggleUserMenu($event)"
      (closeUserMenu)="closeUserMenu()">
    </app-top-bar>

    <!-- Page Content -->
    <app-propeties/>
  </main>
</div>

<!-- Mobile Overlay -->
@if (!sidebarCollapsed() && isMobile()) {
<div
  class="fixed inset-0 bg-black opacity-25 z-20 md:hidden animate-fade-in"
  (click)="layoutStore.setSidebar(true)">
</div>
}
