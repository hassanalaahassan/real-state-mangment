<div class="flex min-h-screen bg-gray-50">
  <!-- Sidebar -->
    <app-sidebar
    [isCollapsed]="sidebarCollapsed()"
    (toggle)="layoutStore.toggleSidebar()"
    class="z-30"
    />

  <!-- Main Content -->
  <main
    [class]="mainContentClasses()"
    class="flex-1 transition-all duration-300 min-w-0">

    <!-- Top Bar -->
    <app-top-bar
      [pageTitle]="pageTitle()"
      [pageSubtitle]="pageSubtitle()"
      [showUserMenu]="showUserMenu()"
      [isMobile]="isMobileView()"
      (toggleSidebar)="toggleSidebarMobile($event)"
      (toggleUserMenu)="toggleUserMenu($event)"
      (closeUserMenu)="closeUserMenu()">
    </app-top-bar>

    <!-- Page Content -->
    <div class="p-6 grid grid-cols-3 gap-2 overflow-y-scroll max-h-[calc(100vh-80px)]">
      <!-- <router-outlet/> -->
       @for (item of property(); track $index) {
        <app-card
          [property]="item"
          class="mb-6 animate-fade-in-up col-span-3 md:col-span-1"
        />
       }
    </div>
  </main>
</div>

<!-- Mobile Overlay -->
@if (!sidebarCollapsed() && isMobile()) {
<div
  class="fixed inset-0 bg-black opacity-25 z-20 md:hidden animate-fade-in"
  (click)="layoutStore.setSidebar(true)">
</div>
}
